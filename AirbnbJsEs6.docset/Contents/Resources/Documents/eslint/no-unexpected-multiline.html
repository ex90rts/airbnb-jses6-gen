<!-- single file version -->
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<link href="../assets/eslint.css" rel="stylesheet" type="text/css">
<link href="../assets/xcode.min.css" rel="stylesheet" type="text/css">
<script src="../assets/highlight.min.js"></script>
</head>
<body>
<h1 id="disallow-confusing-multiline-expressions-no-unexpected-multiline-">disallow confusing multiline expressions (no-unexpected-multiline)</h1>
<p>Semicolons are usually optional in JavaScript, because of automatic semicolon insertion (ASI). You can require or disallow semicolons with the <a href="./semi.html">semi</a> rule.</p>
<p>The rules for ASI are relatively straightforward: As once described by Isaac Schlueter, a newline character always ends a statement, just like a semicolon, <strong>except</strong> where one of the following is true:</p>
<ul>
<li>The statement has an unclosed paren, array literal, or object literal or ends in some other way that is not a valid way to end a statement. (For instance, ending with <code>.</code> or <code>,</code>.)</li>
<li>The line is <code>--</code> or <code>++</code> (in which case it will decrement/increment the next token.)</li>
<li>It is a <code>for()</code>, <code>while()</code>, <code>do</code>, <code>if()</code>, or <code>else</code>, and there is no <code>{</code></li>
<li>The next line starts with <code>[</code>, <code>(</code>, <code>+</code>, <code>*</code>, <code>/</code>, <code>-</code>, <code>,</code>, <code>.</code>, or some other binary operator that can only be found between two tokens in a single expression.</li>
</ul>
<p>In the exceptions where a newline does <strong>not</strong> end a statement, a typing mistake to omit a semicolon causes two unrelated consecutive lines to be interpreted as one expression. Especially for a coding style without semicolons, readers might overlook the mistake. Although syntactically correct, the code might throw exceptions when it is executed.</p>
<h2 id="rule-details">Rule Details</h2>
<p>This rule disallows confusing multiline expressions where a newline looks like it is ending a statement, but is not.</p>
<p class="incorrect icon">Examples of <strong>incorrect</strong> code for this rule:</p>
<pre><code class="lang-js">/*eslint no-unexpected-multiline: &quot;error&quot;*/

var foo = bar
(1 || 2).baz();

var hello = &#39;world&#39;
[1, 2, 3].forEach(addNumber);

let x = function() {}
`hello`

let x = function() {}
x
`hello`
</code></pre>
<p class="correct icon">Examples of <strong>correct</strong> code for this rule:</p>
<pre><code class="lang-js">/*eslint no-unexpected-multiline: &quot;error&quot;*/

var foo = bar;
(1 || 2).baz();

var foo = bar
;(1 || 2).baz()

var hello = &#39;world&#39;;
[1, 2, 3].forEach(addNumber);

var hello = &#39;world&#39;
void [1, 2, 3].forEach(addNumber);

let x = function() {};
`hello`

let tag = function() {}
tag `hello`
</code></pre>
<h2 id="when-not-to-use-it">When Not To Use It</h2>
<p>You can turn this rule off if you are confident that you will not accidentally introduce code like this.</p>
<p>Note that the patterns considered problems are <strong>not</strong> flagged by the <a href="semi.html">semi</a> rule.</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="func-call-spacing.html">func-call-spacing</a></li>
<li><a href="semi.html">semi</a></li>
<li><a href="space-unary-ops.html">space-unary-ops</a></li>
</ul>

<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>